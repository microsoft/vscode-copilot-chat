// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`defaultIntentRequestHandler > makes a successful request with a single turn 1`] = `
{
  "metadata": {
    "codeBlocks": [],
    "toolCallResults": undefined,
    "toolCallRounds": [
      ToolCallRound {
        "compaction": undefined,
        "id": "static-id",
        "phase": undefined,
        "phaseModelId": undefined,
        "response": "some response here :)",
        "statefulMarker": undefined,
        "summary": undefined,
        "thinking": undefined,
        "timestamp": 0,
        "toolCalls": [],
        "toolInputRetry": 0,
      },
    ],
  },
}
`;

exports[`defaultIntentRequestHandler > makes a successful request with a single turn 2`] = `
{
  "telemetrySenderEvents": [],
  "telemetryServiceEvents": [
    {
      "eventName": "interactiveSessionMessage",
      "eventType": "internal",
      "measurements": {
        "turnNumber": 1,
      },
      "properties": {
        "apiType": undefined,
        "baseModel": "gpt-4.1-2025-04-14",
        "chatLocation": "panel",
        "contextTypes": "none",
        "detectedIntent": "none",
        "intent": "test",
        "isParticipantDetected": "false",
        "query": "hello world!",
        "requestId": "some-uuid",
        "sessionId": "some-session-id",
      },
    },
    {
      "eventName": "conversation.message",
      "eventType": "default",
      "measurements": {
        "messageCharLen": 12,
        "promptTokenLen": 10,
      },
      "properties": {
        "conversationId": "some-session-id",
        "headerRequestId": "",
        "messageId": "some-uuid",
        "mode": "ask",
        "offTopic": "false",
        "source": "user",
        "suggestion": "test",
        "turnIndex": "0",
        "uiKind": "conversationPanel",
      },
    },
    {
      "eventName": "conversation.messageText",
      "eventType": "internal",
      "measurements": {
        "messageCharLen": 12,
        "promptTokenLen": 10,
      },
      "properties": {
        "conversationId": "some-session-id",
        "headerRequestId": "",
        "messageId": "some-uuid",
        "messageText": "hello world!",
        "mode": "ask",
        "offTopic": "false",
        "source": "user",
        "suggestion": "test",
        "turnIndex": "0",
        "uiKind": "conversationPanel",
      },
    },
    {
      "eventName": "conversation.messageText",
      "eventType": "internal",
      "measurements": {
        "messageCharLen": 12,
        "promptTokenLen": 10,
      },
      "properties": {
        "conversationId": "some-session-id",
        "headerRequestId": "",
        "messageId": "some-uuid",
        "messageText": "hello world!",
        "mode": "ask",
        "offTopic": "false",
        "source": "user",
        "suggestion": "test",
        "turnIndex": "0",
        "uiKind": "conversationPanel",
      },
    },
    {
      "eventName": "conversation.message",
      "eventType": "default",
      "measurements": {
        "messageCharLen": 21,
        "numCodeBlocks": 0,
        "promptTokenLen": 10,
      },
      "properties": {
        "codeBlockLanguages": "{}",
        "conversationId": "some-session-id",
        "headerRequestId": "some-uuid",
        "messageId": "some-uuid",
        "mode": "ask",
        "replyType": "none",
        "source": "model",
        "suggestion": "test",
        "turnIndex": "1",
        "uiKind": "conversationPanel",
      },
    },
    {
      "eventName": "conversation.messageText",
      "eventType": "internal",
      "measurements": {
        "messageCharLen": 12,
        "promptTokenLen": 10,
      },
      "properties": {
        "codeBlockLanguages": "{}",
        "conversationId": "some-session-id",
        "headerRequestId": "some-uuid",
        "messageId": "some-uuid",
        "messageText": "some response here :)",
        "mode": "ask",
        "replyType": "none",
        "source": "model",
        "suggestion": "test",
        "turnIndex": "1",
        "uiKind": "conversationPanel",
      },
    },
    {
      "eventName": "conversation.messageText",
      "eventType": "internal",
      "measurements": {
        "messageCharLen": 12,
        "promptTokenLen": 10,
      },
      "properties": {
        "codeBlockLanguages": "{}",
        "conversationId": "some-session-id",
        "headerRequestId": "some-uuid",
        "messageId": "some-uuid",
        "messageText": "some response here :)",
        "mode": "ask",
        "replyType": "none",
        "source": "model",
        "suggestion": "test",
        "turnIndex": "1",
        "uiKind": "conversationPanel",
      },
    },
    {
      "eventName": "panel.request",
      "eventType": "default",
      "measurements": {
        "availableToolCount": 0,
        "codeGenInstructionFileCount": 0,
        "codeGenInstructionSettingsCount": 0,
        "codeGenInstructionsCount": 0,
        "codeGenInstructionsFilteredCount": 0,
        "codeGenInstructionsLength": 0,
        "isAuto": -1,
        "isBYOK": -1,
        "links": 0,
        "maybeOffTopic": 0,
        "messageTokenCount": 3,
        "numToolCalls": 0,
        "promptTokenCount": 10,
        "responseTokenCount": 4,
        "round": 0,
        "summarizationEnabled": 1,
        "textBlocks": 1,
        "timeToComplete": "<duration>",
        "timeToFirstToken": "<duration>",
        "timeToRequest": "<duration>",
        "toolTokenCount": 0,
        "turn": 1,
        "userPromptCount": 1,
      },
      "properties": {
        "apiType": undefined,
        "codeBlocks": "",
        "command": "test",
        "contextTypes": "none",
        "conversationId": "some-session-id",
        "isParticipantDetected": "false",
        "languageId": undefined,
        "mode": "ask",
        "model": "gpt-4.1-2025-04-14",
        "parentRequestId": undefined,
        "promptTypes": "1:12",
        "requestId": "turn-id-0",
        "responseId": "turn-id-0",
        "responseType": "success",
        "toolCounts": "{}",
      },
    },
    {
      "eventName": "panel_request",
      "eventType": "default",
      "measurements": {
        "availableToolCount": 0,
        "isAgent": 0,
        "links": 0,
        "maybeOffTopic": 0,
        "messageTokenCount": 3,
        "numToolCalls": 0,
        "promptTokenCount": 10,
        "responseTokenCount": 4,
        "round": 0,
        "textBlocks": 1,
        "timeToComplete": "<duration>",
        "timeToFirstToken": "<duration>",
        "timeToRequest": "<duration>",
        "turn": 1,
        "userPromptCount": 1,
      },
      "properties": {
        "codeBlocks": "[]",
        "command": "test",
        "conversationId": "some-session-id",
        "isParticipantDetected": "false",
        "languageId": "",
        "mode": "ask",
        "model": "gpt-4.1-2025-04-14",
        "requestId": "turn-id-0",
        "responseType": "success",
        "toolCounts": "{}",
      },
    },
    {
      "eventName": "interactiveSessionResponse",
      "eventType": "internal",
      "measurements": {
        "turnNumber": 1,
      },
      "properties": {
        "apiType": undefined,
        "baseModel": "gpt-4.1-2025-04-14",
        "chatLocation": "panel",
        "intent": "test",
        "isParticipantDetected": "false",
        "request": "hello world!",
        "requestId": "some-uuid",
        "response": "some response here :)",
        "sessionId": "some-session-id",
      },
    },
    {
      "eventName": "conversation.message",
      "eventType": "default",
      "measurements": {
        "messageCharLen": 21,
        "numCodeBlocks": 0,
      },
      "properties": {
        "codeBlockLanguages": "{}",
        "conversationId": "some-session-id",
        "headerRequestId": "",
        "messageId": "some-uuid",
        "mode": "ask",
        "source": "model",
        "turnIndex": "1",
        "uiKind": "conversationPanel",
      },
    },
    {
      "eventName": "conversation.messageText",
      "eventType": "internal",
      "measurements": {},
      "properties": {
        "codeBlockLanguages": "{}",
        "conversationId": "some-session-id",
        "headerRequestId": "",
        "messageId": "some-uuid",
        "messageText": "some response here :)",
        "mode": "ask",
        "source": "model",
        "turnIndex": "1",
        "uiKind": "conversationPanel",
      },
    },
    {
      "eventName": "conversation.messageText",
      "eventType": "internal",
      "measurements": {},
      "properties": {
        "codeBlockLanguages": "{}",
        "conversationId": "some-session-id",
        "headerRequestId": "",
        "messageId": "some-uuid",
        "messageText": "some response here :)",
        "mode": "ask",
        "source": "model",
        "turnIndex": "1",
        "uiKind": "conversationPanel",
      },
    },
  ],
}
`;
